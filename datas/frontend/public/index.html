<!DOCTYPE html>
<html>
    <head>
        <title>Single Page Node GG</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <link rel="stylesheet" href="/stylesheets/style.css">
        <script type="module" src="/javascripts/index.js"></script>
    </head>
<body class="m-5">

    <header class="row p-1">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg bg-body fixed-top">
        <div class="container-fluid">
          <button
            data-mdb-collapse-init
            class="navbar-toggler"
            type="button"
            data-mdb-target="#navbarExample01"
            aria-controls="navbarExample01"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <i class="fas fa-bars"></i>
          </button>
          <div class="collapse navbar-collapse" id="navbarExample01">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item active">
                <a class="nav-link" aria-current="page" href="/home" data-link>Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/" data-link>Login</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/play" data-link>Play</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/contact" data-link>Contact</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/profile" data-link>Profile</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
      <!-- Navbar -->
    
      <!-- Jumbotron -->
      <div class="p-5 text-center bg-dark border rounded" style="margin-top: 58px;">
        <h1 class="mb-3 text-light">Welcome to our amazing pong website</h1>
        <h4 class="mb-3 text-light-emphasis">We are here to play pong</h4>
        <a data-mdb-ripple-init class="btn btn-primary" href="" role="button">Login to play</a>
      </div>
      <!-- Jumbotron -->
    </header>
        
    <main class="row p-1">
        <div id="app" class="col-8">
            djhsfgjshgkjsdh
        </div>
        <aside class="col-4">
            ASIDE

            <!-- WEBSOCKET PART  -->
            <form id="input-form">
              <label for="message">Enter Message:</label>
              <input type="text" id="message" name="message"><br><br>
              <input id="send" type="submit" value="Send" >
            </form>
            <div id="messages"></div>
            <script>
              const webSocket = new WebSocket('ws://localhost:8080/');

                webSocket.onmessage = (event) => {
                    console.log("onmessage:", event)
                    document.getElementById('messages').innerHTML += 'Message from server: ' + event.data + "<br>";
                };
    
                webSocket.addEventListener("open", () => {
                    console.log("We are connected");
                });
    
                function sendMessage(event) {
                    event.preventDefault();
                    console.log("sending message");
                    var inputMessage = document.getElementById('message');
                    webSocket.send(inputMessage.value)
                    inputMessage.value = ""
                }
                // document.getElementById('input-form').preventDefault();
                document.getElementById('input-form').addEventListener('submit', sendMessage);
           </script>
            <!-- END OF WEBSOCKET PART  -->
        </aside>
    </main>
        <footer class="row p-1">
            <nav>
                <ul>
                    <li>@ COPYRIGHT 2024 - All Rights reserved</li>
                    <li><a href="/home" data-link>Home</a></li>
                    <li><a href="/about" data-link>About</a></li>
                    <li><a href="/contact" data-link>Contact</a></li>
                    <li><a href="/play" data-link>Play</a></li>
                </ul>
            </nav>
        </footer>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    </body>
</html>